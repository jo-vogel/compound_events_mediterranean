# -*- coding: utf-8 -*-
"""
Created on Fri Apr 12 14:31:03 2019

@author: vogelh
"""

# -*- coding: utf-8 -*-


#!/usr/bin/env python
"""
Save as get-tp.py, then run "python get-tp.py".
  
Input file : None
Output file: tp_20170101-20170102.nc
"""
import cdsapi
 
c = cdsapi.Client()
r = c.retrieve(
    'reanalysis-era5-single-levels', {
            'variable'    : 'total_precipitation',
            'product_type': 'reanalysis',
            'year'        : ['1979','1980', '1981','1982','1983','1984','1985','1986','1987','1988','1989'],
            #'year'        : ['1989','1990', '1991','1992','1993','1994','1995','1996','1997','1998','1999'],
            #'year'        : ['1999','2000', '2001','2002','2003','2004','2005','2006','2007','2008','2009'],
            #'year'        : ['2009','2010', '2011','2012','2013','2014','2015','2016','2017','2018','2019'],
            'month'       : ['01', '02','03','04','05','06','07','08','09','10','11','12'], # will this work? February has only 28 days
            'day'         :[ '01','02','03', '04','05','06', '07','08','09', '10','11','12', '13','14','15', '16','17','18','19','20','21', '22','23','24', '25','26','27', '28','29','30', '31' ], 
            'time'        : [
                '00:00','01:00','02:00',
                '03:00','04:00','05:00',
                '06:00','07:00','08:00',
                '09:00','10:00','11:00',
                '12:00','13:00','14:00',
                '15:00','16:00','17:00',
                '18:00','19:00','20:00',
                '21:00','22:00','23:00'
            ],
            #'area'    : '45/-5.2/31/34',  # Extent in first version. North, West, South, East. Default: global
            'area'    : '60/-10/28/40',  # North, West, South, East
            'format'      : 'netcdf'
    })
r.download('tp_20170101-20173112.nc')